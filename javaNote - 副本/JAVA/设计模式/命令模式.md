# 什么是命令模式

> 定义
>
> 将"请求"封装成对象，以便使用不同的请求、队列、或者日志来参数化其他对象（就是命令对象拥有相同的接口，不同的命令对象可以被设置到调用者中）。命令模式也可以支持撤销操作。
>
> 请求以命令的形式包裹在对象中，并传给调用对象。调用对象寻找可以处理该命令的合适的对象，并把该命令传给相应的对象，该对象执行命令。

命令模式是一个**高内聚**的模式，其定义为：**将一个请求封装成一个对象，从而让你使用不同的请求把客户端参数化，对请 求排队或者记录请求日志，可以提供命令的撤销和恢复功能**。

## 什么时候使用命令模式

**使用时机**：当需要先将一个函数登记上，然后再以后调用此函数时，就需要使用命令模式，其实这就是回调函数。

**例子**：拿订餐来说，客人需要向厨师发送请求，但是完全不知道这些厨师的名字和联系方式，也不知道厨师炒菜的方式和步骤。 命令模式把客人订餐的请求封装成 command 对象，也就是订餐中的订单对象**。**这个对象可以在程序中被四处传递，就像订单可以从服务员手中传到厨师的手中。这样一来，客人不需要知道厨师的名字，从而解开了请求调用者和请求接收者之间的耦合关系

**缺点：**

　　命令模式也是有缺点的，请看Command的子类：如果有N个命令，问题就出来 了，Command的子类就可不是几个，而是N个，这个类膨胀得非常大，这个就需要读者在项 目中慎重考虑使用。

# 实现命令模式

**Receiver类**，知道如何实施与执行一个与请求相关的操作，任何类都可能作为一个接受者