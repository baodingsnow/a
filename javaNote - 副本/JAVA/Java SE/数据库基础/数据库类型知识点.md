# 数据库中char和varChar的区别

1、**CHAR**的长度是不可变的，而**VARCHAR**的长度是可变的，也就是说，定义一个CHAR[10]和VARCHAR[10],如果存进去的是‘ABCD’, 那么CHAR所占的长度依然为10，除了字符‘ABCD’外，后面跟六个空格，而VARCHAR的长度变为4了，取数据的时候，CHAR类型的要用trim()去掉多余的空格，而VARCHAR类型是不需要的。

2、**CHAR**的存取速度要比**VARCHAR**快得多，因为其长度固定，方便程序的存储与查找；但是CHAR为此付出的是空间的代价，因为其长度固定，所以难免会有多余的空格占位符占据空间，可以说是以空间换取时间效率，而VARCHAR则是以空间效率为首位的。

3、**CHAR**的存储方式是，一个英文字符（ASCII）占用1个字节，一个汉字占用两个字节；而**VARCHAR**的存储方式是，一个英文字符占用2个字节，一个汉字也占用2个字节。

4、两者的存储数据都是非unicode的字符数据。

## 什么是unicode

统一码（Unicode），也叫万国码、单一码，是计算机科学领域里的一项业界标准，包括字符集、编码方案等。Unicode是为了解决传统的字符编码方案的局限而产生的，它为每种语言中的每个字符设定了统一并且唯一的[二进制编码](https://baike.baidu.com/item/二进制编码/1758517?fromModule=lemma_inlink)，以满足跨语言、跨平台进行文本转换、处理的要求。

## unicode类型有哪些

在SQL Server数据库中，数据类型主要分为两类，分别为Unicode数据类型与非Unicode数据类型。通常情况下，如果数据库中存储的信息有多种语言的话，则笔者建议大家采用Unicode数据类型，而不应该使用非Unicode数据类型。 

在SQL Server 2000中,Unicode数据类型包括nchar,nvarchar和ntext两种.
1.nchar:长度固定,最多可存储4000个Unicode字符数
2.nvarchar:长度可变,最多可存储4000个Unicode字符数
3.ntext:可存储4000个Unicode字符数,最大长度为1.073.741.823个字数

```sql
### Error querying database. Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'deleted' in where clause is ambiguous ### The error may exist in URL [jar:file:/home/ruoyi/idp-modules-manage.jar!/BOOT-INF/classes!/mapper/mangage/ArtifactoryMapper.xml] ### The error may involve defaultParameterMap ### The error occurred while setting parameters ### SQL: select a.id, a.soa_id, b.soa_name, a.delivery_type, a.latest_version_number, a.remark, a.state, a.integration_artifactory_url, a.test_artifactory_url, a.develop_artifactory_url, a.serial_number, a.publish_type, a.tenant_id, a.create_by, a.update_by, a.create_id, a.update_id, a.create_time, a.update_time, a.revision, a.deleted from idp_artifactory a left join idp_soa b on a.soa_id=b.id WHERE deleted=0 LIMIT ? ### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'deleted' in where clause is ambiguous ; Column 'deleted' in where clause is ambiguous; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'deleted' in where clause is ambiguous
```

